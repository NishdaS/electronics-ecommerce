<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Page Title -->
  <title>Confirm Checkout</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='global.css') }}">

</head>
<body>

<!-- Wrap everything in a checkout-container for custom styling or layout -->
<div class="checkout-container">
  <div class="container">
    <h2>Confirm Your Order</h2>

    <form method="POST">
      <!-- User's name (readonly) -->
      <div class="mb-3">
        <label class="form-label"><strong>Name:</strong></label>
        <input type="text" class="form-control" name="name" value="{{ user.username }}" readonly>
      </div>

      <!-- User's email (readonly) -->
      <div class="mb-3">
        <label class="form-label"><strong>Email:</strong></label>
        <input type="email" class="form-control" name="email" value="{{ user.email }}" readonly>
      </div>

      <!-- Shipping address input -->
      <div class="mb-3">
        <label class="form-label"><strong>Shipping Address:</strong></label>
        <textarea class="form-control" name="address" rows="3" required>{{ user.address or '' }}</textarea>
      </div>

      <!-- Order summary -->
      <h5>Order Summary</h5>
      <ul class="list-group mb-3">
        {% for item in cart %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ item.name }} ({{ item.quantity }} Ã— ${{ "%.2f"|format(item.price) }})
            <span>${{ "%.2f"|format(item.quantity * item.price) }}</span>
          </li>
        {% endfor %}
      </ul>

      <!-- Total cost -->
      <p><strong>Total:</strong> ${{ "%.2f"|format(total) }}</p>

      <!-- Submit and back buttons -->
      <div class="button-group">
        <button class="btn btn-success" type="submit">Confirm &amp; Pay</button>
        <a href="/cart" class="btn btn-secondary">Go Back</a>
      </div>

    </form>
  </div>
</div>

</body>
</html>
